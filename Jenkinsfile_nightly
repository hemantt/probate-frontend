#!groovy

properties([
        parameters([string(name: 'LIB_VERSION', defaultValue: 'master', description: 'Branch name of pipeline library to use')]),
        pipelineTriggers([cron('05 01 * * *')])
])

library "Infrastructure@${params.LIB_VERSION}"

String product = "probate"

String component = "frontend"

def type = "nodejs"

withNightlyPipeline(type, product, component) {
    env.TEST_URL = 'https://probate-frontend-aat.service.core-compute-aat.internal'
    after('build') {
        sh 'yarn setup'
    }
    enableCrossBrowserTest()
    enableMutationTest()
}
